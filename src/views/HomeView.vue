<template>
  <div class="home-container">
    <nav class="navbar">
      <h2>Nossos 2 anos ‚ù§Ô∏è</h2>
      <button @click="sair" class="sair-btn">Sair</button>
    </nav>

    <div class="content">
      <h1 class="title">Parab√©ns pra n√≥s pelos 2 anos juntos, meu amor! üéâ</h1>
      <h2 class="subtitle">
        Seja bem-vinda, <b>{{ nomeUsuario }}</b> ou melhor, Amor da minha vida!
        Ao nosso mundinho üíñ
      </h2>
      <h2 class="subtitle">Estamos juntos h√°:</h2>
      <p class="contador">{{ tempoJuntos }}</p>

      <div class="music-player">
        <iframe
          width="560"
          height="315"
          src="https://www.youtube.com/embed/g0QKf3VPoYY"
          frameborder="0"
          allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
          allowfullscreen
        ></iframe>
      </div>

      <button @click="abrirModal" class="mensagem-btn">
        Leia uma mensagem especial
      </button>

      <div v-if="modalAberto" class="modal">
        <div class="modal-content">
          <span @click="fecharModal" class="close">&times;</span>
          <h2>Para o Amor da Minha Vida üíñ</h2>
          <p>{{ cartaRomantica }}</p>
        </div>
      </div>

      <div class="carrossel-container">
        <swiper
          :slidesPerView="1"
          :spaceBetween="20"
          :pagination="{ clickable: true }"
          :breakpoints="{
            768: { slidesPerView: 2 },
            1024: { slidesPerView: 3 },
          }"
          class="swiper"
        >
          <swiper-slide v-for="(frase, index) in frases" :key="index">
            <div class="card">
              <p>{{ frase }}</p>
            </div>
          </swiper-slide>
        </swiper>
      </div>

      <button @click="mostrarMensagemAleatoria" class="amo-voce-btn">
        üíåAmo Voc√™
      </button>
    </div>
  </div>
</template>

<script lang="ts">
import { defineComponent, ref, onMounted } from "vue";
import { useRouter } from "vue-router";
import { Swiper, SwiperSlide } from "swiper/vue";
import "swiper/swiper-bundle.css";

export default defineComponent({
  components: {
    Swiper,
    SwiperSlide,
  },
  setup() {
    const router = useRouter();
    const dataInicio = new Date("2023-03-12");
    const tempoJuntos = ref("");
    const nomeUsuario = ref(localStorage.getItem("username") || "Meu Amor");
    const modalAberto = ref(false);
    const cartaRomantica = ref("");
    const mensagensAmor = ref([
      "Eu te amo mais que tudo neste mundo! üíñ",
      "Voc√™ √© a raz√£o do meu sorriso todos os dias. üòä",
      "Meu cora√ß√£o bate mais forte por voc√™. üíì",
      "Voc√™ √© a minha vida, meu amor. ‚ù§Ô∏è",
      "Cada momento ao seu lado √© um presente. üéÅ",
      "Voc√™ √© a melhor parte do meu dia!",
      "Suas notifica√ß√µes s√£o as melhores!",
      "Amo quando voc√™ cozinha pra mim !üòä",
      "Que mulher voc√™ √© viu?! Que baita mulher",
      "Amo seus beijos!",
      "Amo seus abra√ßos",
      "Amo teus carinhos",
      "Amo quando dormimos junto!",
    ]);

    const frases = ref([
      "Voc√™ √© a mulher mais incr√≠vel que j√° conheci! üíñ",
      "Meu amor por voc√™ cresce a cada dia. üåπ",
      "Voc√™ ilumina meus dias com seu sorriso. ‚òÄÔ∏è",
      "Sou grato por cada momento ao seu lado. ‚ù§Ô∏è",
      "Voc√™ √© meu porto seguro em meio a tanto caos. üåü",
      "Eu amo a forma como voc√™ me faz sentir especial. üíï",
      "Seu abra√ßo depois de um dia cheio cura tanta coisa! ‚òÄÔ∏è",
      "O brilho dos seus olhos me encantam. üåü",
      "Voc√™ √© t√£o especial! Que um card n√£o √© suficiente pra detalhar isso",
      "Eu te amo mais que churrasco e o lanche de costela! (QUE LANCHE BOOOMMM)",
      "√â inexplicavel a paz que sinto quando voc√™ deita no meu peito!",
    ]);

    function atualizarContador() {
      const agora = new Date();
      const diff = agora.getTime() - dataInicio.getTime();

      const dias = Math.floor(diff / (1000 * 60 * 60 * 24));
      const horas = Math.floor((diff / (1000 * 60 * 60)) % 24);
      const minutos = Math.floor((diff / (1000 * 60)) % 60);
      const segundos = Math.floor((diff / 1000) % 60);

      tempoJuntos.value = `${dias} dias, ${horas}h ${minutos}m ${segundos}s`;
    }

    function sair() {
      localStorage.clear();
      router.push("/");
    }

    function abrirModal() {
      cartaRomantica.value = `Meu amor querida ${nomeUsuario.value}, (usu√°ria do nosso sistema kkkkk),\n\nHoje n√≥s celebramos mais um ano das melhores decis√µes que poderiamos tomar nos ultimos anos...
      (Assistindo Sherek PS: Quem toma decis√µes assistindo um filme infantil?! kkkkkkkkk)
      Nosso relacionamento regado de muito amor, cumplicidade e parceria.
      Sei que o momento n√£o √© dos melhores porem sou extremamente grato...
      Grato a voc√™ e a Deus, por ter nos unido e mesmo que as coisas estejam complicadas eu acredito fielmente que papai do c√©u tem um prop√≥sito pra n√≥s...
      N√£o √© atoa tanta luta, tanta briga, tanta dificuldade e esse relacionamento ter nascido agora... Eu queria voc√™ n√£o... N√£o era a hora, N√£o est√°vamos prontos um pro outro
      Cada novo dia ao seu lado tem sido uma b√™n√ß√£o, um motivo novo pra agradecer... Sou t√£o grato por cada momento que passamos juntos sejam eles bons ou ruins.
      Voc√™ √© a luz da minha vida, todos os momentos que me vejo sem voc√™ nela tudo parece vazio, sombrio, sem cor...
      A caminho do shopping falamos que odiariamos morar sozinhos kkkkk de fato eu n√£o consigo me imaginar habitando uma casa sem voc√™, sem nosso mundinho colorido de conto de fadas...
      Que a gente come bobeira, quando quer, sai kkkkkk como se a nossa vida fosse s√≥ aquilo ali
      Muito Obrigado Mirya Vitoria Rios Juliani, voc√™ deu cor, som cheiro e vida pro meu mundo e trouxe consigo seu jeito leveza no olhar e na forma de enxergar o mundo.
      O homem que sou hoje √© s√≥ uma parte de como voc√™ me ajudou e participou de toda essa loucura chamada vida... Obrigado por dividir comigo seu tempo e sua vida!
      N√£o existe no mundo a possibilidade de viver e sentir tudo o que vivo e sinto contigo do meu lado!
      Te pe√ßo desculpas pelos dias ca√≥ticos e turbulentos... √â uma fase, somos fortes, vamos superar isso muito em breve!
      E SIM eu quero muito morar com voc√™ n√≥s vamos caminhar pra isso meu amor te prometo!
      Por√©m eu n√£o quero s√≥ isso... Al√©m disso eu quero voc√™ quero que seja minha mulher... Quero te dar a chance de escolher ficar com meu sobrenome (apesar que seu nome ficaria grande demais kkkk)
      Eu quero um filho ou filhos contigo n√£o sabemos... Por aqui o meu mais sincero EU TE AMO!
      Te amo mais do que palavras podem expressar.\n\nCom todo o meu amor,\n Seu Namorado ‚ù§Ô∏è! vulgo seu Pietro ou melhor Pietrinho! Te amo Mirya`;
      modalAberto.value = true;
    }

    function fecharModal() {
      modalAberto.value = false;
    }

    function mostrarMensagemAleatoria() {
      const mensagem =
        mensagensAmor.value[
          Math.floor(Math.random() * mensagensAmor.value.length)
        ];
      alert(mensagem);
    }

    onMounted(() => {
      atualizarContador();
      setInterval(atualizarContador, 1000);
    });

    return {
      tempoJuntos,
      sair,
      nomeUsuario,
      frases,
      modalAberto,
      cartaRomantica,
      abrirModal,
      fecharModal,
      mostrarMensagemAleatoria,
    };
  },
});
</script>

<style scoped>
body {
  background-color: #f4d1c8;
  font-family: Arial, sans-serif;
  margin: 0;
  padding: 0;
}

.home-container {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  min-height: 50vh;
  text-align: center;
  padding: 20px;
}

.navbar {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  background-color: #b22f2f;
  color: white;
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 15px 20px;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
  z-index: 1000;
  margin: 0 0 0;
}

.navbar h2 {
  flex: 1;
  text-align: center;
}

.sair-btn {
  background-color: white;
  color: #b22f2f;
  border: none;
  padding: 10px 20px;
  font-size: 16px;
  cursor: pointer;
  border-radius: 8px;
  margin-right: 40px;
  transition: 0.3s ease-in-out;
}

.sair-btn:hover {
  background-color: #f8e1e1;
}

.content {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  max-width: 900px;
  width: 100%;
  padding: 20px;
  background: rgba(255, 255, 255, 0.9);
  border-radius: 10px;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
  margin-top: 80px;
}

.title {
  font-size: 28px;
  font-weight: bold;
  margin-bottom: 20px;
  line-height: 1.4;
  color: #b22f2f;
}

.subtitle {
  font-size: 20px;
  font-weight: normal;
  margin-bottom: 15px;
  line-height: 1.4;
  color: #333;
}

.contador {
  font-size: 2em;
  font-weight: bold;
  color: #b22f2f;
  margin-top: 10px;
}

.music-player {
  margin: 20px 0;
}

.mensagem-btn {
  background-color: #b22f2f;
  color: white;
  border: none;
  padding: 10px 20px;
  font-size: 16px;
  cursor: pointer;
  border-radius: 8px;
  margin: 10px 0;
  transition: 0.3s ease-in-out;
}

.mensagem-btn:hover {
  background-color: #8a1f1f;
}

.amo-voce-btn {
  background-color: #ff6f61;
  color: white;
  border: none;
  padding: 10px 20px;
  font-size: 16px;
  cursor: pointer;
  border-radius: 8px;
  margin: 10px 0;
  transition: 0.3s ease-in-out;
}

.amo-voce-btn:hover {
  background-color: #e65a50;
}

.modal {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.5);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 1000;
}

.modal-content {
  background-color: white;
  padding: 20px;
  border-radius: 10px;
  max-width: 500px;
  width: 100%;
  text-align: center;
  position: relative;
}

.close {
  position: absolute;
  top: 10px;
  right: 10px;
  font-size: 24px;
  cursor: pointer;
}

/* Estilos do carrossel */
.carrossel-container {
  width: 100%;
  margin-top: 20px;
}

.swiper {
  width: 100%;
  padding: 20px 0;
}

.card {
  background: #fff;
  border-radius: 10px;
  padding: 20px;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
  text-align: center;
  font-size: 18px;
  color: #b22f2f;
}

@media (max-width: 768px) {
  .title {
    font-size: 24px;
  }

  .subtitle {
    font-size: 18px;
  }

  .contador {
    font-size: 1.5em;
  }

  .navbar {
    padding: 12px 10px;
  }

  .sair-btn {
    padding: 8px 16px;
    font-size: 14px;
  }

  .content {
    margin-top: 70px;
  }

  .swiper {
    padding: 10px 0;
  }

  .card {
    font-size: 16px;
    padding: 15px;
  }
}
</style>
